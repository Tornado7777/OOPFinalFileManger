При запуске происходит отображение экрана ( в main запускается UI)
в UI в соответствии с выбранным типом отображения consoleUI отбражается экран в соответствии с настройками Console Config
и последним каталогом взятым из config
возращаем управление в main жду ввода букв, (получая буквы отправляю их в UI , в UI добовляю в конец отображаемой строке
метод InputStringArea).
После нажатия клавиши Enter отправляю строку на анализ в Handler.  В Handler  разбираю строку и проверяю на правильность ввода 
и наличия комманд (для этого можно создать базовый класс(перечесление) со свойствами комманд и перечеслением комманд.
После проверки возращаю массив или класс в main (или список класса). 
Отправляю список комманд в ядро на исполнение, получаю результат с пометками какой области отображения касаются результаты. 
Отправляю в  UI. В UI в соответствии с областью обновляю её.

Желательно построить так чтбы в будущем легко можно было изменить консольный вывод на любой другой сделав изменение только в UI